def get_page_numbers(total_pages):
    # 30% of total pages
    initial_count = int(total_pages * 0.3)
    # Last 3 pages
    last_pages = 3

    # Pages to display at the beginning
    beginning_pages = list(range(1, initial_count + 1))
    # Pages to display at the end
    ending_pages = list(range(total_pages - last_pages + 1, total_pages + 1))

    # Combine and add "..."
    if initial_count + last_pages < total_pages:
        pages = beginning_pages + ["..."] + ending_pages
    else:
        pages = list(range(1, total_pages + 1))  # If total pages are very few

    return pages


def my_view(request):
    total_pages = 100  # Example total pages
    pages = get_page_numbers(total_pages)
    return render(request, 'my_template.html', {'pages': pages})




<!-- my_template.html -->
<div class="pagination">
    {% for page in pages %}
        {% if page == "..." %}
            <span>{{ page }}</span>
        {% else %}
            <a href="?page={{ page }}">{{ page }}</a>
        {% endif %}
    {% endfor %}
</div>